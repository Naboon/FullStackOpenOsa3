{"version":3,"sources":["services/persons.js","components/ListPersons.js","components/PersonsForm.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Person","person","handleRemove","name","number","type","onClick","ListPersons","persons","map","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","value","onChange","Filter","filter","handleFilterChange","Notification","message","messageType","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","setPersons","setNewName","setNewNumber","setFilter","setMessage","setMessageType","useEffect","phoneBookService","initialPersons","changeNumber","find","n","changedPerson","returnedPerson","setTimeout","catch","personsShown","toLowerCase","includes","event","target","preventDefault","some","window","confirm","knownPerson","concat","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.48e73214.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default {getAll, create, update, remove}","import React from 'react'\n\nconst Person = ({ person, handleRemove }) => {\n  return (\n   <div>\n    {person.name} {person.number}\n    <button type=\"submit\" onClick={() => handleRemove(person.id, person.name)}>delete</button>\n   </div>\n  )\n }\n\nconst ListPersons = ({ persons, handleRemove }) =>\n  persons.map(person => \n   <Person key={person.name} person={person} handleRemove={handleRemove}/>)\n\nexport default ListPersons","import React from 'react'\n\nconst PersonForm = ({ addPerson, newName, handleNameChange,\n  newNumber, handleNumberChange }) => {\n \n  return (\n   <form onSubmit={addPerson}>\n     <div>\n      name: \n      <input \n       value={newName}\n       onChange={handleNameChange} \n      />\n     </div>\n     <div>\n      number:\n      <input\n       value={newNumber}\n       onChange={handleNumberChange}\n      />\n     </div>\n     <div>\n      <button type=\"submit\">add</button>\n     </div>\n    </form>\n  )\n }\n\nexport default PersonForm\n","import React from 'react'\n\nconst Filter = ({ filter, handleFilterChange }) => {\n \n  return (\n   <div>\n    filter shown with\n    <input\n     value={filter}\n     onChange={handleFilterChange}\n    />\n    </div>\n  )\n }\n\nexport default Filter\n","const Notification = ({ message, messageType }) => {\n  const notificationStyle = {\n   color: 'green',\n   background: 'lightgrey',\n   fontSize: 20,\n   borderStyle: 'solid',\n   borderRadius: 5,\n   padding: 10,\n   marginBottom: 10\n  }\n\n  const errorStyle = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n  \n  if (message === null) {\n   return null\n  } else if (messageType === 'notification') {\n    return (\n      <div style={notificationStyle}>\n       {message}\n      </div>\n    )\n  } else if (messageType === 'error') {\n    return (\n      <div style={errorStyle}>\n       {message}\n      </div>\n    )\n  } else {\n    return null\n  }\n}\n\n export default Notification","import React, { useEffect, useState } from 'react'\nimport phoneBookService from './services/persons'\nimport ListPersons from './components/ListPersons'\nimport PersonForm from './components/PersonsForm'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\n\n  \nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [message, setMessage] = useState(null)\n  const [messageType, setMessageType] = useState(null)\n\n  useEffect(() => {\n    phoneBookService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    \n    if (persons.some(person => \n      person.name === newName)) {\n      \n      if (window.confirm(`${newName} is already added to phonebook, replace\n        the old number with a new one?`)) {\n        \n        const knownPerson = persons.find(person =>\n          person.name === newName)\n\n        return changeNumber(knownPerson.id, newNumber)\n      } else {\n        setNewName('')\n        setNewNumber('')\n        return null\n      }\n      \n    }\n\n    const personObject = {\n      name: newName,\n      number: newNumber\n    }\n    \n    phoneBookService\n      .create(personObject)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setMessage(`Added ${returnedPerson.name}`)\n        setMessageType('notification')\n            setTimeout(() => {\n              setMessage(null)\n              setMessageType(null)\n            }, 5000)\n        setNewName('')\n        setNewNumber('')\n      })\n      .catch(error => {\n        setMessageType('error')\n        setMessage(error.response.data.error)\n        setTimeout(() => {\n          setMessage(null)\n          setMessageType(null)\n        }, 5000)\n      })\n  }\n\n  const changeNumber = (id, newNumber) => {\n    const person = persons.find(n => n.id === id)\n    const changedPerson = { ...person, number: newNumber }\n\n    phoneBookService\n      .update(id, changedPerson)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => person.id !== id ? person: returnedPerson))\n        setMessageType('notification')\n        setMessage(`Changed number for ${newName}`)\n        setTimeout(() => {\n          setMessage(null)\n          setMessageType(null)\n        }, 5000)\n        setNewName('')\n        setNewNumber('')\n      })\n      .catch(() => {\n        setPersons(persons.filter(n => n.id !== id))\n        setMessageType('error')\n        setMessage(`Information of ${newName} has already been removed from server`)\n        setTimeout(() => {\n          setMessage(null)\n          setMessageType(null)\n        }, 5000)\n        setNewName('')\n        setNewNumber('')\n      })\n  }\n\n  const handleRemove = (id, name) => {\n    \n    if (window.confirm(`Delete ${name}?`)) {\n      phoneBookService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter(n => n.id !== id))\n          setMessageType('notification')\n          setMessage(`Removed ${name}`)\n          setTimeout(() => {\n            setMessage(null)\n            setMessageType(null)\n          }, 5000)\n        })\n        .catch(() => {\n          setPersons(persons.filter(n => n.id !== id))\n          setMessageType('error')\n          setMessage(`Information of ${name} has already been removed from server`)\n          setTimeout(() => {\n            setMessage(null)\n            setMessageType(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => \n    setNewName(event.target.value)\n\n  const handleNumberChange = (event) =>\n    setNewNumber(event.target.value)\n\n  const handleFilterChange = (event) => \n    setFilter(event.target.value)\n\n  const personsShown = (filter === '')\n    ? persons\n    : persons.filter(person => \n        person.name.toLowerCase().includes(filter.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} messageType={messageType} />\n\n      <Filter filter={filter} handleFilterChange={handleFilterChange} />\n      \n      <h2>Add a new contact</h2>\n      \n      <PersonForm addPerson={\n        addPerson} \n        newName={newName} \n        handleNameChange={handleNameChange} \n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange} />\n      \n      <h2>Numbers</h2>\n      \n      <ListPersons persons={\n        personsShown}\n        handleRemove={handleRemove} />\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)\n"],"sourceRoot":""}